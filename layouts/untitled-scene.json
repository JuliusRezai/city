{
  "b": 209,
  "disableInputWhenNotFocused": true,
  "mangledName": "Untitled_32scene",
  "name": "Untitled scene",
  "r": 209,
  "standardSortMethod": true,
  "stopSoundsOnStartup": true,
  "title": "",
  "v": 209,
  "uiSettings": {
    "grid": true,
    "gridType": "rectangular",
    "gridWidth": 100,
    "gridHeight": 100,
    "gridOffsetX": 0,
    "gridOffsetY": 0,
    "gridColor": 10401023,
    "gridAlpha": 0.8,
    "snap": true,
    "zoomFactor": 0.25504554733544893,
    "windowMask": false
  },
  "objectsGroups": [
    {
      "name": "Tile",
      "objects": [
        {
          "name": "Grass"
        },
        {
          "name": "BasicHouse"
        }
      ]
    }
  ],
  "variables": [
    {
      "folded": true,
      "name": "PlacingData",
      "type": "structure",
      "children": [
        {
          "name": "IsPlacing",
          "type": "boolean",
          "value": false
        },
        {
          "folded": true,
          "name": "X",
          "type": "number",
          "value": 0
        },
        {
          "name": "Y",
          "type": "number",
          "value": 0
        }
      ]
    },
    {
      "folded": true,
      "name": "CurrentQuestion",
      "type": "string",
      "value": "0"
    },
    {
      "folded": true,
      "name": "CurrentQuestionIndex",
      "type": "number",
      "value": -1
    },
    {
      "folded": true,
      "name": "QuestionHasBeenAnswered",
      "type": "boolean",
      "value": true
    },
    {
      "name": "CurrentOptions",
      "type": "array",
      "children": []
    },
    {
      "name": "CityStats",
      "type": "structure",
      "children": [
        {
          "folded": true,
          "name": "GDPPerCapita",
          "type": "number",
          "value": 0
        },
        {
          "name": "Inhabitants",
          "type": "number",
          "value": 0
        },
        {
          "name": "Money",
          "type": "number",
          "value": 0
        },
        {
          "folded": true,
          "name": "Score",
          "type": "number",
          "value": 0
        }
      ]
    },
    {
      "folded": true,
      "name": "TileSizeInPixels",
      "type": "number",
      "value": 100
    },
    {
      "name": "questions",
      "type": "structure",
      "children": [
        {
          "name": "Din stad behöver fler bostäder. Hur ser du till att de är hållbara och inkluderande?",
          "type": "array",
          "children": [
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Kollektivtrafik som elbussar och spårvagnar"
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": 2
                },
                {
                  "folded": true,
                  "name": "special",
                  "type": "boolean",
                  "value": true
                }
              ]
            },
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Fler bilvägar"
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": 0
                }
              ]
            },
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Trottoarer för gång- och cykelbanor"
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": 3
                }
              ]
            }
          ]
        },
        {
          "name": "Fler transportsätt måste finnas för invånarna, vad prioriteras?",
          "type": "array",
          "children": [
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Bygg endast lyxbostäder i centrala områden."
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": 1
                }
              ]
            },
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Bygg energieffektiva och prisvärda bostäder för alla."
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": 3
                }
              ]
            },
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Bygg snabbt och billigt utan hänsyn till kvalitet eller tillgänglighet."
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": -1
                }
              ]
            }
          ]
        },
        {
          "name": "Vad är FN mål 11 främst inriktat mot?",
          "type": "array",
          "children": [
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Att minska på klimatförändringar."
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": 1
                }
              ]
            },
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Att öka fattigdomen"
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": -1
                }
              ]
            },
            {
              "type": "structure",
              "children": [
                {
                  "folded": true,
                  "name": "name",
                  "type": "string",
                  "value": "Att skapa hållbara städer och samhällen"
                },
                {
                  "folded": true,
                  "name": "score",
                  "type": "number",
                  "value": 2
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "tmp",
      "type": "structure",
      "children": [
        {
          "folded": true,
          "name": "number",
          "type": "number",
          "value": 0
        },
        {
          "name": "text",
          "type": "string",
          "value": "0"
        }
      ]
    },
    {
      "folded": true,
      "name": "TileToBePlaced",
      "type": "string",
      "value": "None"
    }
  ],
  "instances": [
    {
      "angle": 0,
      "customSize": true,
      "depth": 1,
      "height": 1,
      "layer": "",
      "name": "plz",
      "persistentUuid": "298e22f1-a493-4ed5-a1cb-0787a0a2a189",
      "width": 1,
      "x": 800,
      "y": 600,
      "zOrder": 4,
      "numberProperties": [],
      "stringProperties": [],
      "initialVariables": []
    },
    {
      "angle": 0,
      "customSize": false,
      "height": 0,
      "keepRatio": true,
      "layer": "UI",
      "name": "stats",
      "persistentUuid": "364e272e-8b60-4095-8bb8-fca7743bf101",
      "width": 0,
      "x": 100,
      "y": 100,
      "zOrder": 5,
      "numberProperties": [],
      "stringProperties": [],
      "initialVariables": []
    },
    {
      "angle": 0,
      "customSize": false,
      "height": 0,
      "keepRatio": true,
      "layer": "UI",
      "name": "OptionTitle",
      "persistentUuid": "71272f7a-724d-4ba6-b570-58efa3ff19f4",
      "width": 0,
      "x": 100,
      "y": 300,
      "zOrder": 7,
      "numberProperties": [],
      "stringProperties": [],
      "initialVariables": []
    }
  ],
  "objects": [
    {
      "assetStoreId": "",
      "height": 100,
      "name": "Background",
      "texture": "grass.png",
      "type": "TiledSpriteObject::TiledSprite",
      "width": 100,
      "variables": [],
      "effects": [],
      "behaviors": []
    },
    {
      "assetStoreId": "",
      "bottomMargin": 0,
      "height": 100,
      "leftMargin": 0,
      "name": "ImageTile",
      "rightMargin": 0,
      "texture": "roadUP.png",
      "tiled": false,
      "topMargin": 0,
      "type": "PanelSpriteObject::PanelSprite",
      "width": 100,
      "variables": [
        {
          "folded": true,
          "name": "TileType",
          "type": "string",
          "value": "RoadUP"
        },
        {
          "folded": true,
          "name": "IsBeingPlaced",
          "type": "boolean",
          "value": true
        },
        {
          "name": "IsPlaced",
          "type": "boolean",
          "value": false
        },
        {
          "folded": true,
          "name": "IsCursorIndicator",
          "type": "boolean",
          "value": false
        },
        {
          "folded": true,
          "name": "PosX",
          "type": "number",
          "value": 0
        },
        {
          "folded": true,
          "name": "PosY",
          "type": "number",
          "value": 0
        }
      ],
      "effects": [],
      "behaviors": []
    },
    {
      "assetStoreId": "",
      "name": "BasicHouse",
      "type": "Scene3D::Model3DObject",
      "variables": [
        {
          "folded": true,
          "name": "IsBeingPlaced",
          "type": "boolean",
          "value": false
        },
        {
          "folded": true,
          "name": "IsPlaced",
          "type": "boolean",
          "value": true
        }
      ],
      "effects": [],
      "behaviors": [],
      "content": {
        "centerLocation": "ModelOrigin",
        "depth": 100,
        "height": 100,
        "keepAspectRatio": true,
        "materialType": "StandardWithoutMetalness",
        "modelResourceName": "model.glb",
        "originLocation": "ModelOrigin",
        "rotationX": 90,
        "rotationY": 0,
        "rotationZ": 0,
        "width": 100,
        "animations": []
      }
    },
    {
      "assetStoreId": "",
      "name": "Grass",
      "type": "Scene3D::Model3DObject",
      "variables": [
        {
          "folded": true,
          "name": "IsBeingPlaced",
          "type": "boolean",
          "value": false
        },
        {
          "folded": true,
          "name": "IsPlaced",
          "type": "boolean",
          "value": true
        }
      ],
      "effects": [],
      "behaviors": [],
      "content": {
        "centerLocation": "ModelOrigin",
        "depth": 100,
        "height": 100,
        "keepAspectRatio": true,
        "materialType": "StandardWithoutMetalness",
        "modelResourceName": "grass3d.glb",
        "originLocation": "ModelOrigin",
        "rotationX": 90,
        "rotationY": 0,
        "rotationZ": 90,
        "width": 100,
        "animations": []
      }
    },
    {
      "assetStoreId": "",
      "bold": false,
      "italic": false,
      "name": "stats",
      "smoothed": true,
      "type": "TextObject::Text",
      "underlined": false,
      "variables": [],
      "effects": [],
      "behaviors": [],
      "string": "City stats:\nInhabitants: 1\nMoney: 1",
      "font": "",
      "textAlignment": "left",
      "characterSize": 30,
      "color": {
        "b": 0,
        "g": 0,
        "r": 0
      },
      "content": {
        "bold": false,
        "isOutlineEnabled": false,
        "isShadowEnabled": false,
        "italic": false,
        "outlineColor": "255;255;255",
        "outlineThickness": 2,
        "shadowAngle": 90,
        "shadowBlurRadius": 2,
        "shadowColor": "0;0;0",
        "shadowDistance": 4,
        "shadowOpacity": 127,
        "smoothed": true,
        "underlined": false,
        "text": "City stats:\nInhabitants: 1\nMoney: 1",
        "font": "",
        "textAlignment": "left",
        "characterSize": 30,
        "color": "0;0;0"
      }
    },
    {
      "assetStoreId": "",
      "name": "OptionTitle",
      "type": "BBText::BBText",
      "variables": [],
      "effects": [],
      "behaviors": [],
      "content": {
        "text": "[size=30]Current options:[/size]",
        "opacity": 255,
        "fontSize": 30,
        "visible": true,
        "color": "0;0;0",
        "fontFamily": "Arial",
        "align": "left",
        "wordWrap": true
      }
    },
    {
      "assetStoreId": "9cf9ca8be6e98fc23e76b6770d3f4d094dea09f30a49f38ef9a9d2e97c2460be",
      "name": "OptionButton",
      "type": "PanelSpriteButton::PanelSpriteButton",
      "variables": [
        {
          "folded": true,
          "name": "OptionNumber",
          "type": "number",
          "value": 0
        }
      ],
      "effects": [],
      "behaviors": [],
      "content": {
        "LeftPadding": 16,
        "RightPadding": 16,
        "PressedLabelOffsetY": 3,
        "BottomPadding": 32,
        "TopPadding": 32,
        "HoveredFadeOutDuration": 0.25
      },
      "childrenContent": {
        "Hovered": {
          "bottomMargin": 16,
          "height": 69,
          "leftMargin": 16,
          "rightMargin": 16,
          "texture": "Grey Button With Shadow_Hovered.png",
          "tiled": true,
          "topMargin": 16,
          "width": 192
        },
        "Idle": {
          "bottomMargin": 16,
          "height": 69,
          "leftMargin": 16,
          "rightMargin": 16,
          "texture": "Grey Button With Shadow_Idle.png",
          "tiled": true,
          "topMargin": 16,
          "width": 192
        },
        "Label": {
          "bold": false,
          "italic": false,
          "smoothed": true,
          "underlined": false,
          "string": "Destroy something idfk",
          "font": "CantoraOne-Regular.ttf",
          "textAlignment": "center",
          "characterSize": 20,
          "color": {
            "b": 255,
            "g": 255,
            "r": 255
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Destroy something idfk",
            "font": "CantoraOne-Regular.ttf",
            "textAlignment": "center",
            "characterSize": 20,
            "color": "255;255;255"
          }
        },
        "Pressed": {
          "bottomMargin": 16,
          "height": 69,
          "leftMargin": 16,
          "rightMargin": 16,
          "texture": "Grey Button With Shadow_Pressed.png",
          "tiled": true,
          "topMargin": 16,
          "width": 192
        }
      }
    }
  ],
  "objectsFolderStructure": {
    "folderName": "__ROOT",
    "children": [
      {
        "objectName": "Background"
      },
      {
        "objectName": "ImageTile"
      },
      {
        "objectName": "BasicHouse"
      },
      {
        "objectName": "Grass"
      },
      {
        "objectName": "stats"
      },
      {
        "objectName": "OptionTitle"
      },
      {
        "objectName": "OptionButton"
      }
    ]
  },
  "events": [
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Setup:"
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Initialize world"
        },
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "function getUniformRandom() {",
            "    // https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform",
            "    const u1 = Math.random();",
            "    const u2 = Math.random();",
            "    const z0 = Math.sqrt(-2.0 * Math.log(u1)) * Math.cos(2.0 * Math.PI * u2);",
            "    return z0;",
            "}",
            "",
            "const tileSize = runtimeScene.getVariables().get(\"TileSizeInPixels\").getAsNumber();",
            "function addTile(objectName, x, y, special) {",
            "    const obj = runtimeScene.createObject(objectName);",
            "    obj.setX((x+0.5)*tileSize);",
            "    obj.setY((y+0.5)*tileSize);",
            "    ",
            "    const variables = obj.getVariables();",
            "    variables.get(\"IsBeingPlaced\").setBoolean(special == \"being_placed\");",
            "    variables.get(\"IsPlaced\").setBoolean(special != \"being_placed\");",
            "",
            "    runtimeScene.addObject(obj);",
            "    return obj;",
            "}",
            "",
            "function addPlacement(type, x, y) {",
            "    const placing = addTile(type, x, y, \"being_placed\");",
            "",
            "    const sceneVariables = runtimeScene.getVariables();",
            "    const placingData = sceneVariables.get(\"PlacingData\");",
            "    placingData.getChildNamed(\"IsPlacing\").setBoolean(true);",
            "    placingData.getChildNamed(\"X\").setNumber(x);",
            "    placingData.getChildNamed(\"Y\").setNumber(y);",
            "}",
            "",
            "function genWorld() {",
            "    const inhabitants = (getUniformRandom() / 2 + 1) * 20;",
            "    const gdpPerCapita = (getUniformRandom() / 2 + 1) * 10000;",
            "    const money = Math.floor((getUniformRandom() / 2 + 1) * 20*10000);",
            "",
            "    for (let y = 0; y < 30; y++) {",
            "        for (let x = 0; x < 30; x++) {",
            "            addTile(\"Grass\", x, y, null);",
            "        }",
            "    }",
            "    runtimeScene.getVariables().get(\"CityStats\").getChildNamed(\"Money\").setNumber(money);",
            "}",
            "genWorld();",
            "",
            "//addPlacement(\"BasicHouse\", 11, 1);",
            "",
            "function initDrag() {",
            "    runtimeScene.getVariables().get(\"MouseDrag\").getChildNamed(\"LastX\").setNumber(runtimeScene.getGame()._inputManager.getMouseX());",
            "    runtimeScene.getVariables().get(\"MouseDrag\").getChildNamed(\"LastY\").setNumber(runtimeScene.getGame()._inputManager.getMouseY());",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Add initial question"
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Add new placment (from TileToBePlaced var)"
    },
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": true,
            "value": "StringVariable"
          },
          "parameters": [
            "TileToBePlaced",
            "=",
            "\"None\""
          ]
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const tileSize = runtimeScene.getVariables().get(\"TileSizeInPixels\").getAsNumber();",
            "function addTile(objectName, x, y, special) {",
            "    const obj = runtimeScene.createObject(objectName);",
            "    obj.setX((x+0.5)*tileSize);",
            "    obj.setY((y+0.5)*tileSize);",
            "    ",
            "    const variables = obj.getVariables();",
            "    variables.get(\"IsBeingPlaced\").setBoolean(special == \"being_placed\");",
            "    variables.get(\"IsPlaced\").setBoolean(special != \"being_placed\");",
            "",
            "    runtimeScene.addObject(obj);",
            "    return obj;",
            "}",
            "function addPlacement(type, x, y) {",
            "    const placing = addTile(type, x, y, \"being_placed\");",
            "",
            "    const sceneVariables = runtimeScene.getVariables();",
            "    const placingData = sceneVariables.get(\"PlacingData\");",
            "    placingData.getChildNamed(\"IsPlacing\").setBoolean(true);",
            "    placingData.getChildNamed(\"X\").setNumber(x);",
            "    placingData.getChildNamed(\"Y\").setNumber(y);",
            "}",
            "addPlacement(runtimeScene.getVariables().get(\"TileToBePlaced\").getAsString(), 11, 1);",
            "runtimeScene.getVariables().get(\"TileToBePlaced\").setString(\"None\");"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Tile placement:"
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "IsMouseInsideCanvas"
          },
          "parameters": [
            ""
          ]
        },
        {
          "type": {
            "value": "BooleanVariable"
          },
          "parameters": [
            "PlacingData.IsPlacing",
            "True",
            ""
          ]
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Update placing tile to the mouse position"
        },
        {
          "folded": true,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "Tile",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const tileSize = runtimeScene.getVariables().get(\"TileSizeInPixels\").getAsNumber();",
                "for (let i = 0; i < objects.length; i++) {",
                "    //if (objects[i].getName() == \"Grass\") {",
                "    const placingData = runtimeScene.getVariables().get(\"PlacingData\");",
                "    placingData.getChildNamed(\"X\").setNumber(Math.floor(objects[i].getX()/tileSize));",
                "    placingData.getChildNamed(\"Y\").setNumber(Math.floor(objects[i].getY()/tileSize));",
                "    //}",
                "}"
              ],
              "parameterObjects": "Tile",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "Tile",
                "IsBeingPlaced",
                "True",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const tileSize = runtimeScene.getVariables().get(\"TileSizeInPixels\").getAsNumber();",
                "const placingData = runtimeScene.getVariables().get(\"PlacingData\");",
                "const x = placingData.getChildNamed(\"X\").getAsNumber();",
                "const y = placingData.getChildNamed(\"Y\").getAsNumber();",
                "objects[0].setX((x+0.5)*tileSize);",
                "objects[0].setY((y+0.5)*tileSize);"
              ],
              "parameterObjects": "Tile",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Handle the actual placement"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "Tile",
                "IsBeingPlaced",
                "True",
                ""
              ]
            },
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetBooleanObjectVariable"
              },
              "parameters": [
                "Tile",
                "IsPlaced",
                "True",
                ""
              ]
            },
            {
              "type": {
                "value": "SetBooleanObjectVariable"
              },
              "parameters": [
                "Tile",
                "IsBeingPlaced",
                "False",
                ""
              ]
            },
            {
              "type": {
                "value": "SetBooleanVariable"
              },
              "parameters": [
                "PlacingData.IsPlacing",
                "False",
                ""
              ]
            },
            {
              "type": {
                "value": "SetBooleanVariable"
              },
              "parameters": [
                "QuestionHasBeenAnswered",
                "True",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "UI:"
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "value": "TextContainerCapability::TextContainerBehavior::SetValue"
          },
          "parameters": [
            "stats",
            "Text",
            "=",
            "\"City stats:\" + NewLine() + \"Money: \" + ToString(Variable(CityStats.Money)) + NewLine() + \"Inhabitants: \" + ToString(Variable(CityStats.Inhabitants)) + NewLine()"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Handle questions:"
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "PanelSpriteButton::PanelSpriteButton::IsClicked"
          },
          "parameters": [
            "OptionButton",
            ""
          ]
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "questions[CurrentQuestion][OptionButton.OptionNumber].special",
                "True",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetBooleanVariable"
              },
              "parameters": [
                "Special",
                "True",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "Special",
                "=",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetBooleanVariable"
              },
              "parameters": [
                "QuestionHasBeenAnswered",
                "True",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetNumberVariable"
              },
              "parameters": [
                "CityStats.Score",
                "+",
                "questions[CurrentQuestion][OptionButton.OptionNumber].score"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "StringVariable"
              },
              "parameters": [
                "CurrentQuestion",
                "=",
                "\"Din stad behöver fler bostäder. Hur ser du till att de är hållbara och inkluderande?\""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "NumberObjectVariable"
                  },
                  "parameters": [
                    "OptionButton",
                    "OptionNumber",
                    "=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetStringVariable"
                  },
                  "parameters": [
                    "TileToBePlaced",
                    "=",
                    "\"BasicHouse\""
                  ]
                }
              ]
            }
          ]
        }
      ],
      "variables": [
        {
          "folded": true,
          "name": "Special",
          "type": "boolean",
          "value": false
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Get new question"
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "BooleanVariable"
          },
          "parameters": [
            "QuestionHasBeenAnswered",
            "True",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Delete"
          },
          "parameters": [
            "OptionButton",
            ""
          ]
        },
        {
          "type": {
            "value": "SetNumberVariable"
          },
          "parameters": [
            "CurrentQuestionIndex",
            "+",
            "1"
          ]
        },
        {
          "type": {
            "value": "SetNumberVariable"
          },
          "parameters": [
            "tmp.number",
            "=",
            "0"
          ]
        },
        {
          "type": {
            "value": "SetBooleanVariable"
          },
          "parameters": [
            "SetQuestion",
            "False",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::ForEachChildVariable",
          "iterableVariableName": "questions",
          "valueIteratorVariableName": "child",
          "keyIteratorVariableName": "tmp.text",
          "conditions": [],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "NumberVariable"
                  },
                  "parameters": [
                    "tmp.number",
                    "=",
                    "CurrentQuestionIndex"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetStringVariable"
                  },
                  "parameters": [
                    "CurrentQuestion",
                    "=",
                    "tmp.text"
                  ]
                },
                {
                  "type": {
                    "value": "SetBooleanVariable"
                  },
                  "parameters": [
                    "SetQuestion",
                    "True",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "tmp.number",
                    "+",
                    "1"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "SetQuestion",
                "=",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "BBText::SetBBText"
              },
              "parameters": [
                "OptionTitle",
                "=",
                "\"you did it, score: \" + CityStats.Score"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "SetQuestion",
                "True",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "BBText::SetBBText"
              },
              "parameters": [
                "OptionTitle",
                "=",
                "CurrentQuestion"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetBooleanVariable"
                  },
                  "parameters": [
                    "QuestionHasBeenAnswered",
                    "False",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::ForEachChildVariable",
              "iterableVariableName": "questions[CurrentQuestion]",
              "valueIteratorVariableName": "child",
              "keyIteratorVariableName": "tmp.number",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Create"
                  },
                  "parameters": [
                    "",
                    "OptionButton",
                    "100",
                    "450+tmp.number*200",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "PanelSpriteButton::PanelSpriteButton::SetLabelText"
                  },
                  "parameters": [
                    "OptionButton",
                    "questions[CurrentQuestion][tmp.number].name",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "OptionButton",
                    "OptionNumber",
                    "=",
                    "tmp.number"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "variables": [
        {
          "folded": true,
          "name": "SetQuestion",
          "type": "boolean",
          "value": false
        }
      ]
    }
  ],
  "layers": [
    {
      "ambientLightColorB": 200,
      "ambientLightColorG": 200,
      "ambientLightColorR": 200,
      "camera3DFarPlaneDistance": 10000,
      "camera3DFieldOfView": 45,
      "camera3DNearPlaneDistance": 0.1,
      "cameraType": "perspective",
      "followBaseLayerCamera": false,
      "isLightingLayer": false,
      "isLocked": false,
      "name": "",
      "renderingType": "",
      "visibility": true,
      "cameras": [
        {
          "defaultSize": true,
          "defaultViewport": true,
          "height": 0,
          "viewportBottom": 1,
          "viewportLeft": 0,
          "viewportRight": 1,
          "viewportTop": 0,
          "width": 0
        }
      ],
      "effects": [
        {
          "effectType": "Scene3D::HemisphereLight",
          "name": "3D Light",
          "doubleParameters": {
            "elevation": 45,
            "intensity": 1,
            "rotation": 0
          },
          "stringParameters": {
            "groundColor": "64;64;64",
            "skyColor": "255;255;255",
            "top": "Y-"
          },
          "booleanParameters": {}
        }
      ]
    },
    {
      "ambientLightColorB": 200,
      "ambientLightColorG": 200,
      "ambientLightColorR": 200,
      "camera3DFarPlaneDistance": 10000,
      "camera3DFieldOfView": 45,
      "camera3DNearPlaneDistance": 3,
      "cameraType": "",
      "followBaseLayerCamera": false,
      "isLightingLayer": false,
      "isLocked": false,
      "name": "UI",
      "renderingType": "",
      "visibility": true,
      "cameras": [],
      "effects": [
        {
          "effectType": "Scene3D::HemisphereLight",
          "name": "3D Light",
          "doubleParameters": {
            "elevation": 45,
            "intensity": 1,
            "rotation": 0
          },
          "stringParameters": {
            "groundColor": "64;64;64",
            "skyColor": "255;255;255",
            "top": "Y-"
          },
          "booleanParameters": {}
        }
      ]
    }
  ],
  "behaviorsSharedData": [
    {
      "name": "Animation",
      "type": "AnimatableCapability::AnimatableBehavior"
    },
    {
      "name": "Effect",
      "type": "EffectCapability::EffectBehavior"
    },
    {
      "name": "Flippable",
      "type": "FlippableCapability::FlippableBehavior"
    },
    {
      "name": "Object3D",
      "type": "Scene3D::Base3DBehavior"
    },
    {
      "name": "Opacity",
      "type": "OpacityCapability::OpacityBehavior"
    },
    {
      "name": "Resizable",
      "type": "ResizableCapability::ResizableBehavior"
    },
    {
      "name": "Scale",
      "type": "ScalableCapability::ScalableBehavior"
    },
    {
      "name": "Text",
      "type": "TextContainerCapability::TextContainerBehavior"
    }
  ]
}